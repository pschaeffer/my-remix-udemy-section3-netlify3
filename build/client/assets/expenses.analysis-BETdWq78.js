import{r as c,j as e,i as d,m as u,L as x,M as h,k as m,S as j,l as v}from"./components-DZCVqqbL.js";import{S as f}from"./scroll-restoration-DLpdAiuL.js";function b(s){const a=s.map(i=>+i.amount),l=Math.max(...a),n=Math.min(...a),t=s.reduce((i,o)=>o.amount+i,0),r=t/s.length;return{minAmount:n,maxAmount:l,sum:t,mean:r}}function p({expenses:s}){const{minAmount:a,maxAmount:l,sum:n,mean:t}=c.useMemo(()=>b(s),[s]);return e.jsxs("section",{children:[e.jsx("h2",{children:"Summary Statistics"}),e.jsxs("dl",{id:"expense-statistics",children:[e.jsxs("div",{children:[e.jsx("dt",{children:"Total"}),e.jsxs("dd",{children:["$",n.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Average"}),e.jsxs("dd",{children:["$",t.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("dt",{children:" Min. Amount"}),e.jsxs("dd",{children:["$",a.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Max. Amount"}),e.jsxs("dd",{children:["$",l.toFixed(2)]})]})]})]})}const g=({maxValue:s,value:a,label:l})=>{let n="0%";return s>0&&(n=Math.round(a/s*100)+"%"),e.jsxs("div",{className:"chart-bar",children:[e.jsx("div",{className:"chart-bar--inner",children:e.jsx("div",{className:"chart-bar--fill",style:{height:n}})}),e.jsx("div",{className:"chart-bar--label",children:l})]})},y=g;function M({expenses:s}){const a=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}];for(const t of s){const r=new Date(t.date).getMonth();a[r].value+=t.amount}const l=a.map(t=>t.value),n=Math.max(...l);return e.jsxs("section",{children:[e.jsx("h2",{children:"Monthly Expenses"}),e.jsx("ol",{className:"chart",children:a.map(t=>e.jsx(y,{value:t.value,maxValue:n,label:t.label},t.label))})]})}function A({title:s,children:a}){return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("title",{children:s}),e.jsx(h,{}),e.jsx(m,{})]}),e.jsxs("body",{children:[a,e.jsx(f,{}),e.jsx(j,{}),e.jsx(v,{})]})]})}function F(){const s=d();return e.jsxs("main",{children:[e.jsx(M,{expenses:s}),e.jsx(p,{expenses:s})]})}function N(){const s=u();let a="";return typeof s=="string"?a=s:typeof s=="object"?a="Something went wrong. Please try again later. Got an object":typeof s>"u"?a="Something went wrong. Please try again later. Got undefined":typeof s.data=="string"?a=s.data:typeof s.data.message=="string"&&(a=s.data.message),e.jsx(A,{title:"An error occurred in expenses analysis",children:e.jsx("main",{children:e.jsxs(Error,{title:"An error occurred in expenses analysis",children:[e.jsx("p",{children:a}),e.jsxs("p",{children:["Back to ",e.jsx(x,{to:"/",children:"safety"}),"."]})]})})})}export{N as ErrorBoundary,F as default};
